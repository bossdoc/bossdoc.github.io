

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Tutorial &mdash; BOSS  documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Voyage Simulator" href="simulator.html" />
    <link rel="prev" title="PyTest" href="pytest.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> BOSS
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="ui_standard.html">UI Standard</a></li>
<li class="toctree-l1"><a class="reference internal" href="writing_docs.html">Writing Docs</a></li>
<li class="toctree-l1"><a class="reference internal" href="pytest.html">PyTest</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Tutorial</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#creating-a-url">Creating a URL</a></li>
<li class="toctree-l2"><a class="reference internal" href="#writing-the-view">Writing the view</a></li>
<li class="toctree-l2"><a class="reference internal" href="#rendering-a-template">Rendering a template</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="simulator.html">Voyage Simulator</a></li>
<li class="toctree-l1"><a class="reference internal" href="mirror.html">Mirror Offline HTML Form</a></li>
<li class="toctree-l1"><a class="reference internal" href="mirror.html#mirror-backend">Mirror Backend</a></li>
<li class="toctree-l1"><a class="reference internal" href="post_voyage.html">Post Voyage</a></li>
<li class="toctree-l1"><a class="reference internal" href="captn.html">Capt-N</a></li>
<li class="toctree-l1"><a class="reference internal" href="iva.html">IVA</a></li>
<li class="toctree-l1"><a class="reference internal" href="geo_helper.html">Geo Helper</a></li>
<li class="toctree-l1"><a class="reference internal" href="spire_position.html">Spire Position</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">BOSS</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Tutorial</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/tutorial.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="tutorial">
<span id="id1"></span><h1>Tutorial<a class="headerlink" href="#tutorial" title="Permalink to this headline">¶</a></h1>
<p>In this tutorial we will be going over the steps involved in full-stack development of a module in BOSS.</p>
<div class="section" id="creating-a-url">
<h2>Creating a URL<a class="headerlink" href="#creating-a-url" title="Permalink to this headline">¶</a></h2>
<p>To create a module accessible to a user, we will need expose a url at which the module will be available. The file  <code class="docutils literal notranslate"><span class="pre">Virtual_Arrival/urls.py</span></code> controls what urls are available at the highest abstraction level. This includes urls in files <code class="docutils literal notranslate"><span class="pre">vast/urls.py</span></code>, <code class="docutils literal notranslate"><span class="pre">vast/_weather_routing.py</span></code> etc. The main <code class="docutils literal notranslate"><span class="pre">urls.py</span></code> further defines the prefix to various urls. For example the url <code class="docutils literal notranslate"><span class="pre">data_entry_ship</span></code> defined <code class="docutils literal notranslate"><span class="pre">vast/urls.py</span></code> will be accessible at <code class="docutils literal notranslate"><span class="pre">https://localhost:8000/vast/data_entry_ship</span></code> because the <code class="docutils literal notranslate"><span class="pre">Virtual_Arrival/urls.py</span></code> includes urls from the <code class="docutils literal notranslate"><span class="pre">vast/urls.py</span></code> with the prefix vast.</p>
<p>While there is no strict rule as to which file a new url should be defined, generally speaking, modules related to simulation, weather routing etc are defined in <code class="docutils literal notranslate"><span class="pre">vast/urls_weather_routing.py</span></code>. Data entry and visualization modules are generally defined in <code class="docutils literal notranslate"><span class="pre">vast/urls.py</span></code>. You can go through them to get an idea about where a new url shoudl be difined.</p>
<p>So let’s add a url for our module that shows the user, the list of their vessels and number of voyages completed till date. We will call this url <code class="docutils literal notranslate"><span class="pre">number_of_voyages</span></code>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">url</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;^number_of_voyages/&#39;</span><span class="p">,</span> <span class="n">views</span><span class="o">.</span><span class="n">get_number_of_voyages</span><span class="p">,</span> <span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;number_of_voyages&#39;</span><span class="p">),</span>
</pre></div>
</div>
<p>In the above code we have done more than just adding a new url. We have also connected the url to a <code class="docutils literal notranslate"><span class="pre">python</span> <span class="pre">function</span></code> or more formally a <code class="docutils literal notranslate"><span class="pre">view</span></code> that handles the url. Since we have not defined the function yet, acccessing the url at <code class="docutils literal notranslate"><span class="pre">https://localhost:8000/vast/data_entry_ship</span></code> will cause an error. The function it is looking for currently is <code class="docutils literal notranslate"><span class="pre">get_number_of_voyages</span></code> in the file views.py which is imported in <code class="docutils literal notranslate"><span class="pre">vast/urls.py</span></code> somewhere at the top.</p>
</div>
<div class="section" id="writing-the-view">
<h2>Writing the view<a class="headerlink" href="#writing-the-view" title="Permalink to this headline">¶</a></h2>
<p>To handle the url, let’s define the function <code class="docutils literal notranslate"><span class="pre">get_number_of_voyages</span></code> in the file <code class="docutils literal notranslate"><span class="pre">vast/views.py</span></code>.
In this section, we will first focus of fetching the relevant data that needs to be shown to the user, and then we will see how we can render it to an html template in the next section.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">get_number_of_voyages</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">request</span><span class="o">.</span><span class="n">user</span><span class="o">.</span><span class="n">is_authenticated</span><span class="p">():</span>
                <span class="n">ships</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">user</span><span class="o">.</span><span class="n">is_authenticated</span><span class="p">():</span>
</pre></div>
</div>
</div>
<div class="section" id="rendering-a-template">
<h2>Rendering a template<a class="headerlink" href="#rendering-a-template" title="Permalink to this headline">¶</a></h2>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="simulator.html" class="btn btn-neutral float-right" title="Voyage Simulator" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="pytest.html" class="btn btn-neutral float-left" title="PyTest" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, Blue Water Trade Winds pvt ltd

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>